/* ==========================================================================
   Livee Main UI — main.css (refactored)
   - 공통 토큰/리셋
   - 상단 스택(배너/탭)
   - 메인 레이아웃 & 섹션
   - 컴포넌트: 스케줄(네이버식 라인업), 상품 2열 그리드, 추천 공고(잡카드)
   - 하단 탭, 예외 처리
   - 호환: .lv-mini (compact lineup) 포함
   ========================================================================== */

/* =========================
   TOKENS
========================= */
:root{
  --bg:#fff;
  --text:#1f2937;
  --muted:#6b7280;
  --line:#eceff1;

  /* Brand */
  --pri:#6C63FF;
  --pri-weak:#f6f7ff;
  --ok:#10b981;

  /* Shadows */
  --shadow-1:0 2px 8px rgba(0,0,0,.06);
  --shadow-2:0 8px 24px rgba(0,0,0,.08);

  /* Safe areas */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);

  /* Sticky stack: banner + (header 0) + top-tab */
  --banner-h: 40px;
  --header-h: 0px;     /* 헤더 제거 정책 */
  --top-h:    48px;
  --stack-h: calc(var(--banner-h) + var(--header-h) + var(--top-h));
}

/* =========================
   RESET & BASE
========================= */
html,body{height:100%; max-width:100%; overflow-x:hidden;}
*{box-sizing:border-box; min-width:0;}
img,video,canvas{max-width:100%; height:auto; display:block;}
a{color:inherit; text-decoration:none;}
button{cursor:pointer}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:"SUIT Variable", SUIT, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
  font-size:16px;
  line-height:1.55;
  font-variation-settings:"wght" 430;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* 사용자 선호: 모션 최소화 */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important; transition:none!important}
}

/* =========================
   STICKY STACK
========================= */
#banner-container{
  position:sticky; top:var(--safe-top); z-index:1100;
  background:var(--pri); color:#fff; min-height:var(--banner-h);
}
#banner-container .lv-banner-in{
  padding:10px 16px; font-variation-settings:"wght" 650; font-size:14px;
}

/* 상단 탭 */
#top-tab-container{
  position:sticky;
  top:calc(var(--safe-top) + var(--banner-h));
  z-index:990;
  background:#fff; border-bottom:1px solid #f1f3f5; height:var(--top-h);
}
#top-tab-container > ul{
  display:flex; flex-wrap:nowrap; gap:10px;
  padding:6px 12px; margin:0; list-style:none;
  overflow-x:auto; overflow-y:hidden;
  -webkit-overflow-scrolling:touch;
  -ms-overflow-style:none; scrollbar-width:none;
}
#top-tab-container > ul::-webkit-scrollbar{display:none;}
#top-tab-container li{ flex:0 0 auto; }
#top-tab-container a{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  height:36px; padding:0 14px; border-radius:999px;
  white-space:nowrap; word-break:keep-all; flex-shrink:0;
  font-size:16px; letter-spacing:-0.01em;
  font-variation-settings:"wght" 650;
  color:#374151; background:transparent; border:0;
}
#top-tab-container a.active{ color:var(--pri); }
#top-tab-container a.active::after{
  content:""; position:absolute; left:10px; right:10px; bottom:-8px;
  height:3px; border-radius:3px; background:var(--pri);
}

/* =========================
   MAIN LAYOUT
========================= */
.lv-main,.page{
  width:100%; max-width:720px; margin:0 auto;
  padding:16px 14px calc(92px + var(--safe-bottom));
  margin-top: calc(var(--stack-h) + 2px); /* 네이버식 2px 여백 */
}

/* 섹션 */
.lv-section{margin-top:18px}
.lv-section-head{display:flex; align-items:center; gap:.6em; margin:0 0 10px}
.lv-section-head h2{
  margin:0; font-size:20px; line-height:1.3; letter-spacing:-0.01em;
  font-variation-settings:"wght" 760;
}
@media (min-width:480px){ .lv-section-head h2{ font-size:22px; } }
@media (min-width:768px){ .lv-section-head h2{ font-size:24px; } }

.lv-more{
  margin-left:auto; padding:6px 8px; background:transparent; border:0;
  font-size:15px; font-variation-settings:"wght" 650; color:#6b7280;
}
.lv-more:hover{ color:#374151; text-decoration:underline; }

/* 공통 빈 상태 */
.lv-empty{
  padding:14px 12px; border:1px dashed #e5e7eb; border-radius:12px;
  color:#9aa3af; font-variation-settings:"wght" 700;
}

/* =========================
   HORIZONTAL CARDS (generic)
========================= */
.lv-hscroll{
  display:flex; gap:12px; overflow-x:auto;
  padding:4px 2px 10px; scroll-snap-type:x mandatory;
}
.lv-hscroll > *{flex:0 0 auto; min-width:0}
.lv-hscroll::-webkit-scrollbar{height:6px}
.lv-hscroll::-webkit-scrollbar-thumb{background:#e5e7eb; border-radius:999px}
.lv-card{
  min-width:176px; background:#fff; border-radius:16px;
  box-shadow:var(--shadow-1); padding:10px; border:1px solid #f3f4f6;
  transition:transform .18s ease, box-shadow .18s ease; scroll-snap-align:start;
}
.lv-card:hover{transform:translateY(-3px); box-shadow:var(--shadow-2)}
.lv-thumb{width:100%; height:112px; border-radius:12px; background:#eee; object-fit:cover}
.lv-title{margin:8px 2px 0; font-variation-settings:"wght" 700; font-size:.98rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.lv-meta{margin:4px 2px 0; color:var(--muted); font-size:.86rem}

/* =========================
   SCHEDULE — 네이버식 라인업 (v2)
   (.lv-schedule / .lv-s-*)
========================= */
.lv-schedule{display:flex; flex-direction:column; gap:8px; padding:2px 0}
.lv-s-item{
  display:flex; align-items:center; gap:12px;
  background:#fff; border:1px solid #f1f3f5; border-radius:14px;
  padding:10px 12px; box-shadow:var(--shadow-1);
  transition:transform .16s ease, box-shadow .16s ease;
}
a.lv-s-item:hover{ transform:translateY(-1px); box-shadow:var(--shadow-2); }

.lv-schedule .lv-s-thumb{
  width:44px; height:44px; flex:0 0 auto;
  border-radius:10px; object-fit:cover; background:#eee
}
.lv-s-body{min-width:0; flex:1}
.lv-s-title{
  font-size:15px; font-variation-settings:"wght" 780;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.lv-s-meta{
  margin-top:2px; display:flex; align-items:center; gap:6px;
  font-size:13px; color:#6b7280;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.lv-s-brand{color:#6b7280; max-width:60vw; overflow:hidden; text-overflow:ellipsis}
.lv-s-time{ color:#e11d48; font-variation-settings:"wght" 820; }
.lv-s-dot{ color:#d1d5db; }

/* =========================
   SCHEDULE — compact lineup (v1)
   (.lv-mini / 호환 유지)
========================= */
.lv-mini{display:flex; flex-direction:column; gap:8px}
.lv-mini-item{
  display:flex; align-items:center; gap:10px;
  padding:8px 10px; border:1px solid #f1f3f5; border-radius:12px;
  background:#fff; box-shadow:var(--shadow-1);
  transition:transform .16s ease, box-shadow .16s ease;
}
a.lv-mini-item:hover{ transform:translateY(-1px); box-shadow:var(--shadow-2); }
.lv-mini-thumb{width:40px; height:40px; border-radius:10px; object-fit:cover; background:#eee}
.lv-mini-body{min-width:0}
.lv-mini-title{font-weight:800; font-size:.95rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.lv-mini-sub{margin-top:2px; color:#6b7280; font-size:.82rem; display:flex; align-items:center; gap:6px}
.lv-mini-time{font-weight:800; color:#e11d48}
.lv-mini-dot{color:#d1d5db}
.lv-mini-brand{white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:60vw}

/* =========================
   LIVE PRODUCTS GRID (2열 카드)
========================= */
.lv-grid{
  display:grid; grid-template-columns: repeat(2, minmax(0,1fr));
  gap:12px; padding:4px 2px 10px;
}
.lv-g-card{
  display:flex; flex-direction:column;
  background:#fff; border:1px solid #f3f4f6; border-radius:16px;
  box-shadow:var(--shadow-1); overflow:hidden;
  transition:transform .18s ease, box-shadow .18s ease;
}
.lv-g-card:active,.lv-g-card:hover{ transform:translateY(-2px); box-shadow:var(--shadow-2); }
.lv-g-thumb{ width:100%; aspect-ratio:1/1; object-fit:cover; background:#eee; }
.lv-g-body{ padding:10px; }
.lv-g-brand{
  font-size:12px; color:#9aa3af; line-height:1.2;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.lv-g-title{
  margin-top:4px; font-size:14px; font-variation-settings:"wght" 700; line-height:1.25;
  height:2.5em; overflow:hidden; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
}
.lv-g-price{ margin-top:6px; font-size:14px; font-variation-settings:"wght" 800; color:#111827; }

/* 옵션: 태블릿 3열 */
@media (min-width: 640px){
  .lv-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}

/* =========================
   JOB-LIKE RECRUIT CARDS
========================= */
.lv-jobs{ display:flex; flex-direction:column; gap:12px; padding:4px 0; }
.lv-job{
  display:flex; align-items:center; gap:12px;
  background:#fff; border:1px solid #f1f3f5; border-radius:16px;
  padding:14px; box-shadow:var(--shadow-1);
  transition:box-shadow .18s ease, transform .18s ease;
}
.lv-job:active,.lv-job:hover{ box-shadow:var(--shadow-2); transform:translateY(-1px); }
.lv-job-body{ flex:1; min-width:0; }
.lv-job-brand{
  font-size:13px; color:#6b7280; font-variation-settings:"wght" 650;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.lv-job-title{
  margin-top:4px; font-size:16px; line-height:1.25; font-variation-settings:"wght" 800;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.lv-job-meta{ display:flex; align-items:center; gap:8px; margin-top:6px; font-size:13px; color:#6b7280; }
.lv-job-dday{
  display:inline-flex; align-items:center; padding:2px 8px; border-radius:999px; font-size:12px;
  background:#eef2ff; color:#4338ca; font-variation-settings:"wght" 800;
}
.lv-job-dday.lv-end{ background:#fee2e2; color:#b91c1c; }
.lv-job-sep{ color:#d1d5db; }
.lv-job-thumb{ width:56px; height:56px; flex:0 0 auto; border-radius:12px; object-fit:cover; background:#eee; }

/* =========================
   BOTTOM TABS
========================= */
.lv-bottom{
  position:fixed; left:0; right:0; bottom:0; z-index:60; display:flex; background:#fff;
  border-top:1px solid var(--line); box-shadow:0 -8px 22px rgba(0,0,0,.06)
}
.lv-bottom a{
  flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px;
  padding:8px 0 10px; color:#9aa3af; font-size:.78rem; font-variation-settings:"wght" 700;
}
.lv-bottom .ico{width:26px; height:26px}
.lv-bottom .ico svg{
  width:100%; height:100%; stroke:#9aa3af; fill:none; stroke-width:2;
  stroke-linecap:round; stroke-linejoin:round; transition:stroke .15s ease, transform .15s ease
}
.lv-bottom a:focus-visible{outline:2px solid rgba(108,99,255,.35); outline-offset:2px}
.lv-bottom a.active{color:var(--text)}
.lv-bottom a.active .ico svg{stroke:var(--pri); transform:translateY(-1px)}

/* =========================
   PAGE EXCEPTIONS
========================= */
body[data-page="login"] #top-tab-container{display:none !important}
body[data-page="login"] .lv-main,
body[data-page="login"] .page{margin-top: calc(var(--banner-h) + 8px) !important}