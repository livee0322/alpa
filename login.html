<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>로그인 - ALPA</title>
  <link rel="stylesheet" href="/alpa/frontend/css/main.css?v=0811s" />
  <link rel="stylesheet" href="/alpa/frontend/css/login.css?v=0816-clean" />
</head>
<body data-page="login">
  <!-- 고정 띠배너만 사용 -->
  <div id="banner-container" class="lv-banner"></div>

  <!-- 페이지 콘텐츠 -->
  <main class="lg-wrap" role="main">
    <!-- 가운데 로고 -->
    <div class="lg-brand">
      <img src="/alpa/frontend/img/logo.svg" alt="Livee" />
    </div>

    <!-- 카드 -->
    <div class="lg-card">
      <h1 class="lg-title">로그인</h1>

      <!-- 역할 선택 -->
      <div class="role-switch" role="tablist" aria-label="역할 선택">
        <button type="button" class="su-pill" data-role="brand" aria-pressed="true">브랜드</button>
        <button type="button" class="su-pill" data-role="showhost" aria-pressed="false">쇼호스트</button>
      </div>

      <form id="loginForm" class="lg-form" novalidate>
        <label class="lg-label" for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="you@example.com" required autocomplete="username" inputmode="email" />

        <label class="lg-label" for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="••••••••" required autocomplete="current-password" />

        <button id="loginBtn" type="submit" class="lg-submit">로그인</button>
        <p id="loginError" class="lg-error" hidden></p>
      </form>

      <p class="lg-links">아직 계정이 없으신가요? <a href="/alpa/signup.html">회원가입</a></p>
    </div>
  </main>

  <!-- 하단 탭 (원하면 유지) -->
  <nav id="bottom-tab-container" class="lv-bottom"></nav>

  <!-- 공통 모듈 & 설정 -->
  <script defer src="/alpa/frontend/js/modules/banner.js"></script>
  <script defer src="/alpa/frontend/js/modules/bottom-tab.js"></script>
  <script defer src="/alpa/frontend/js/config.js?v=0811c"></script>
  <script defer src="/alpa/frontend/js/login.js?v=0811c"></script>

  <script>
    // 역할 토글 저장
    (function(){
      const pills = document.querySelectorAll('.su-pill');
      let role = localStorage.getItem('lastRole') || 'brand';
      const apply = r => pills.forEach(p=>{
        const on = p.dataset.role===r; p.classList.toggle('active',on); p.setAttribute('aria-pressed',String(on));
      });
      apply(role);
      pills.forEach(p=>p.addEventListener('click',()=>{ role=p.dataset.role; localStorage.setItem('lastRole',role); apply(role); }));
    })();

    // 배너 높이만 반영(헤더/상단탭 없음)
    (function(){
      const r = document.documentElement;
      const measure = () => {
        const bh = document.getElementById('banner-container')?.offsetHeight || 0;
        r.style.setProperty('--banner-h', (bh|0)+'px');
      };
      requestAnimationFrame(measure);
      window.addEventListener('load', measure, {once:true});
      window.addEventListener('resize', ()=>{ clearTimeout(measure._t); measure._t=setTimeout(measure,100); });
      new MutationObserver(measure).observe(document.getElementById('banner-container'), {childList:true,subtree:true});
    })();
  </script>
</body>
</html>